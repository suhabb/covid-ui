(this["webpackJsonpcovid-ui"]=this["webpackJsonpcovid-ui"]||[]).push([[0],{336:function(t,e,a){},355:function(t,e,a){},357:function(t,e,a){},358:function(t,e,a){},432:function(t,e,a){},433:function(t,e,a){},434:function(t,e,a){},435:function(t,e,a){},436:function(t,e,a){},437:function(t,e,a){},438:function(t,e,a){},439:function(t,e,a){},440:function(t,e,a){},441:function(t,e,a){},442:function(t,e,a){},443:function(t,e,a){},444:function(t,e,a){},445:function(t,e,a){},446:function(t,e,a){},450:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a.n(n),r=a(42),i=a.n(r),o=(a(180),a(336),a(452)),s=a(13),l=a(14),d=a(15),u=a(16),h=a(454),v=a(455),p=a(72),j=a.n(p),b=a(8),f=(a(355),a.p+"static/media/110m.702ca108.tsv"),m=a(113),O=a(4),y=Object(h.a)().scale(160).translate([400,225]),g=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={geographies:[],vaccineSummary:{},manufacturerSummary:{}},t.handleCountryClick=function(e){var a,n=t.state.geographies[e];Promise.all([Object(b.v)(f)]).then((function(e){e[0].forEach((function(t){n.id===t.iso_n3&&(a=t.iso_a3)})),t.vaccineRequest(a).then((function(e){t.setState({vaccineSummary:e.data}),t.manufacturerRequest(a).then((function(a){t.setState({manufacturerSummary:a.data}),t.props.parentCallback(e.data,a.data)}))}))}))},t.handleOnLoad=function(e){t.vaccineRequest(e).then((function(a){t.setState({vaccineSummary:a.data}),t.manufacturerRequest(e).then((function(e){t.setState({manufacturerSummary:e.data}),t.props.parentCallback(a.data,e.data)}))}))},t.vaccineRequest=function(t){try{var e="http://localhost:8080/covid-vaccination-service/country/iso-code/"+t;return console.log(e),j.a.get(e)}catch(a){console.error(a)}},t.manufacturerRequest=function(t){try{var e="http://localhost:8080/covid-vaccination-service/manufacturer/iso-code/"+t;return console.log(e),j.a.get(e)}catch(a){console.error(a)}},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this;fetch("https://unpkg.com/world-atlas@2.0.2/countries-110m.json").then((function(e){200===e.status?e.json().then((function(e){t.setState({geographies:Object(m.a)(e,e.objects.countries).features})})):console.log("There was a problem: ".concat(e.status))})),this.handleOnLoad("GBR")}},{key:"render",value:function(){var t=this;Object(b.s)(".tooltip").remove();var e=Object(b.r)(".world-map").append("div").attr("class","hidden tooltip"),a=this.props.width,n=this.props.height;return Object(O.jsxs)("div",{className:"pane",children:[Object(O.jsx)("div",{className:"header",children:"World Map"}),Object(O.jsx)("div",{className:"world-map",children:" "}),Object(O.jsx)("svg",{width:a,height:n,viewBox:"0 0 800 450",children:Object(O.jsx)("g",{className:"world-view",children:this.state.geographies.map((function(a,n){return Object(O.jsx)("path",{id:"path-".concat(n),d:Object(v.a)().projection(y)(a),className:"country",fill:"rgba(38,50,56,".concat(1/t.state.geographies.length*n,")"),stroke:"aliceblue",strokeWidth:.5,onMouseOver:function(){return t.handleCountryClick(n)},onMouseMove:function(t){e.classed("hidden",!1).html("<h6>"+a.properties.name+"</h6>").attr("style","left:"+(t.pageX+15)+"px; top:"+(t.pageY+20)+"px")},onMouseOut:function(){e.classed("hidden",!0)}},"path-".concat(n))}))})})]})}}]),a}(c.a.Component),x=(a(357),function(t){var e=t.data,a=[];e.vaccineCompanies.forEach((function(t){var e={vaccine:t.vaccine,totalVaccinations:t.totalVaccinations};a.push(e)})),b.r(".vaccine-piechart > *").remove();var n=-90,c=20,r=90,i=40,o=t.width-i-c,s=t.height-n-r,l=b.r(".vaccine-piechart").append("svg").attr("width",o+i+c).attr("height",s+n+r).append("g").attr("transform","translate("+(o/2+i)+","+(s/2+n)+")"),d=Math.min(o,s)/2,u=b.m().range(b.q),h=b.a().innerRadius(0).outerRadius(d),v=b.j().value((function(t){return t.totalVaccinations})).sort(null);l.selectAll("path").data(v(a)).enter().append("path").attr("stroke","#fff").attr("stroke-width",1).attr("fill",(function(t,e){return u(e)})).transition().duration(800).attrTween("d",(function(t){var e=b.g(t.endAngle,t.startAngle);return function(a){return t.startAngle=e(a),h(t)}}));var p=20;l.selectAll(".legend").data(v(a)).enter().append("rect").attr("x",-120).attr("y",(function(t,e){return 130+25*e})).attr("width",p).attr("height",p).style("fill",(function(t,e){return u(e)})),l.selectAll(".legend").data(v(a)).enter().append("text").attr("x",-96).attr("y",(function(t,e){return 133+25*e+10})).style("fill","#ff").text((function(t){return t.data.vaccine})).attr("text-anchor","right").style("alignment-baseline","middle")}),w=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){x(this.props)}},{key:"componentDidUpdate",value:function(t){x(this.props)}},{key:"render",value:function(){return Object(O.jsx)(c.a.Fragment,{children:Object(O.jsx)("div",{className:"vaccine-piechart"})})}}]),a}(n.Component),k={location:"NA",iso_code:"NA",vaccineCompanies:[{date:"2021-07-08",vaccine:"NA",totalVaccinations:0},{date:"2021-07-08",vaccine:"NA",totalVaccinations:0},{date:"2021-07-08",vaccine:"NA",totalVaccinations:0},{date:"2021-07-08",vaccine:"NA",totalVaccinations:0}]},C=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={manufacturerData:t.props.manufacturerData},t}return Object(l.a)(a,[{key:"render",value:function(){var t=this.props.manufacturerData;void 0!==t&&0!==Object.keys(t).length||(t=k);return Object(O.jsxs)("div",{id:"pie-view",className:"pane",children:[Object(O.jsxs)("div",{className:"header",children:["Pie Chart : ",t.location]}),Object(O.jsx)(w,{data:t,width:260,height:450})]})}}]),a}(n.Component),D=(a(358),{country:"N/A",iso_code:"N/A",data:[{date:"N/A",total_vaccinations:0,people_vaccinated:0,total_vaccinations_per_hundred:0,people_vaccinated_per_hundred:0,daily_vaccinations:0,daily_vaccinations_per_million:0},{date:"N/A",total_vaccinations:0,people_vaccinated:0,total_vaccinations_per_hundred:0,people_vaccinated_per_hundred:0,daily_vaccinations:0,daily_vaccinations_per_million:0}]}),N=a(453),_=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var t=this.props.countryData;void 0!==t&&0!==Object.keys(t).length||(t=D);var e=[];t.data.forEach((function(t,a){var n;t.daily_vaccinations_formatted=(n=t.daily_vaccinations)>999?(n/1e3).toFixed(0)+"K":n<900?n:void 0,t.key=a,e.push(t)})),e.sort((function(t,e){return new Date(e.date)-new Date(t.date)}));return Object(O.jsx)("div",{children:Object(O.jsxs)("div",{id:"tabular-view",className:"pane",children:[Object(O.jsxs)("div",{className:"header",children:["Tabular Chart: ",t.country]}),Object(O.jsx)(N.a,{columns:[{title:"Date",dataIndex:"date",key:"date"},{title:"Daily Vaccinations",dataIndex:"daily_vaccinations_formatted",key:"daily_vaccinations"},{title:"Daily Vaccinations Per Million",dataIndex:"daily_vaccinations_per_million",key:"daily_vaccinations_per_million"}],dataSource:e,height:500,scroll:{y:283}})]})})}}]),a}(n.Component),A=(a(432),function(t){return t>999&&t<1e6?(t/1e3).toFixed(0)+"K":t>1e6?(t/1e6).toFixed(0)+"M":t<900?t:void 0}),M=function(t){var e=t.data,a=[];e.vaccineCompanies.forEach((function(t){var e={vaccine:t.vaccine,totalVaccinations:t.totalVaccinations};a.push(e)})),b.r(".vaccine-barchart > *").remove();var n=b.r("body").append("div").attr("class","tooltip").style("opacity",0),c=20,r=20,i=30,o=60,s=t.width-o-r,l=t.height-c-i,d=b.r(".vaccine-barchart").append("svg").attr("width",s+o+r).attr("height",l+c+i).append("g").attr("transform","translate(".concat(o,",").concat(c,")")),u=b.k().domain(a.map((function(t){return t.vaccine}))).range([0,s]).paddingInner(.5).paddingOuter(.5),h=b.l().domain([0,b.h(a,(function(t){return t.totalVaccinations}))]).range([l,0]);d.selectAll(".bar").data(a).enter().append("rect").attr("class","bar").attr("x",(function(t){return u(t.vaccine)})).attr("width",u.bandwidth()).attr("y",(function(t){return h(t.totalVaccinations)})).attr("height",(function(t){return l-h(t.totalVaccinations)})).on("mouseover",(function(t,e){n.transition().style("opacity",.9),n.html("Total Vaccination:"+e.totalVaccinations+"<br/>").style("left",t.pageX+"px").style("top",t.pageY-28+"px")})).on("mouseout",(function(t){n.transition().style("opacity",0)})),d.append("g").attr("transform","translate(0, ".concat(l,")")).call(b.c(u)),d.append("g").call(b.d(h).tickFormat((function(t){return A(t)}))).append("text").attr("transform","rotate(-90)").attr("y",0-o).attr("x",0-l/2).attr("dy","1em").style("text-anchor","middle").style("fill","#141414").text("People")},F=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){M(this.props)}},{key:"componentDidUpdate",value:function(t){M(this.props)}},{key:"render",value:function(){return Object(O.jsx)("div",{className:"vaccine-barchart"})}}]),a}(n.Component),P=(a(433),function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={manufacturerData:t.props.manufacturerData},t}return Object(l.a)(a,[{key:"render",value:function(){var t=this.props.manufacturerData;return void 0!==t&&0!==Object.keys(t).length||(t=k),Object(O.jsxs)("div",{id:"bar-view",className:"pane",children:[Object(O.jsxs)("div",{className:"header",children:["Bar Chart : ",t.location]}),Object(O.jsx)("div",{children:Object(O.jsx)(F,{data:t,width:800,height:450})})]})}}]),a}(n.Component)),S=(a(434),o.a.Footer);var T=function(){return Object(O.jsx)(c.a.Fragment,{children:Object(O.jsx)(S,{style:{textAlign:"center"},children:"Kcl Covid App"})})},R=(a(435),a(112)),V=a.n(R),E=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={countryVaccine:t.props.countryData},t}return Object(l.a)(a,[{key:"render",value:function(){var t=this.props.countryData;void 0!==t&&0!==Object.keys(t).length||(t=D);var e=t.data.slice(-1)[0],a=function(t){return t>999&&t<1e6?(t/1e3).toFixed(0)+"K":t>1e6?(t/1e6).toFixed(0)+"M":t<900?t:void 0};return Object(O.jsxs)("div",{id:"info",className:"pane",children:[Object(O.jsxs)("div",{className:"header",children:["Country:",Object(O.jsxs)("span",{children:[" ",t.country]})]}),Object(O.jsx)(V.a,{width:"270",height:"200",code:this.props.countryData.iso_code,fallback:Object(O.jsx)("img",{src:"no-image-icon.png",alt:"No Flag Available",height:"200",width:"270"})}),Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"info-view",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Country:"})," ",t.country]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Date :"})," ",e.date]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Daily Vaccinations:"}),a(e.daily_vaccinations)]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Total Vaccinated:"})," ",a(e.total_vaccinations)]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"People Fully Vaccinated:"})," ",a(e.people_fully_vaccinated)]})]})})]})}}]),a}(n.Component),q=(a(436),a(437),a(438),function(t){return t>999&&t<1e6?(t/1e3).toFixed(0)+"K":t>1e6?(t/1e6).toFixed(0)+"M":t<900?t:void 0}),I=function(t){var e=t.data,a=[];e.area_data=[],e.data.length>10&&(e.area_data=e.data.slice(Math.max(e.data.length-10,0))),e.area_data.forEach((function(t){var e={daily_vaccinations:t.daily_vaccinations,vaccine_date:t.date};a.push(e)})),a.forEach((function(t){t.date=b.u("%Y-%m-%d")(t.vaccine_date)})),b.r(".vaccine-areachart  > *").remove();var n=20,c=20,r=180,i=70,o=t.width-i-c,s=t.height-n-r,l=b.r(".vaccine-areachart").append("svg").attr("width",o+i+c).attr("height",s+n+r).append("g").attr("transform","translate("+i+","+n+")");a.forEach((function(t){t.vaccine_date=b.u("%Y-%m-%d")(t.vaccine_date)}));var d=b.n().domain(b.f(a,(function(t){return t.vaccine_date}))).range([0,o]),u=b.c(d).ticks(6).tickFormat(b.t("%b %d"));l.append("g").attr("transform","translate(0,".concat(s,")")).call(u);var h=b.l().domain([0,b.h(a,(function(t){return t.daily_vaccinations}))]).range([s,0]),v=b.d(h).tickFormat((function(t){return q(t)}));l.append("g").call(v).append("text").attr("transform","rotate(-90)").attr("y",0-i).attr("x",0-s/2).attr("dy","2em").style("text-anchor","middle").style("fill","#141414").text("Daily Vaccinations");var p=b.e;l.append("path").datum(a).attr("fill","#cce5df").attr("stroke","steelblue").attr("stroke-width",1.5).attr("d",b.b().curve(p).x((function(t){return d(t.vaccine_date)})).y0(h(0)).y1((function(t){return h(t.daily_vaccinations)})))},B=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){I(this.props)}},{key:"componentDidUpdate",value:function(t){I(this.props)}},{key:"render",value:function(){return Object(O.jsx)("div",{className:"vaccine-areachart"})}}]),a}(n.Component),L=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var t=this.props.countryData;void 0!==t&&0!==Object.keys(t).length||(t=D);return Object(O.jsxs)("div",{id:"area-view",className:"pane",children:[Object(O.jsxs)("div",{className:"header",children:["Area Chart : ",t.country]}),Object(O.jsx)(B,{data:t,width:560,height:480})]})}}]),a}(n.Component),K=o.a.Sider,W=o.a.Content,Y=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).callbackFunction=function(t,e){n.setState({vaccine:t}),n.setState({manufacturer:e})},n.state={vaccine:{},manufacturer:{}},n}return Object(l.a)(a,[{key:"render",value:function(){return Object(O.jsxs)("div",{children:[Object(O.jsxs)(o.a,{style:{height:920},children:[Object(O.jsxs)(K,{width:300,style:{backgroundColor:"#eee"},children:[Object(O.jsx)(W,{style:{height:400},children:Object(O.jsx)(E,{countryData:this.state.vaccine})}),Object(O.jsx)(W,{style:{height:640},children:Object(O.jsx)(C,{countryData:this.state.vaccine,manufacturerData:this.state.manufacturer})})]}),Object(O.jsxs)(o.a,{children:[Object(O.jsxs)(W,{style:{height:320},children:[Object(O.jsx)(g,{parentCallback:this.callbackFunction,width:800,height:350}),Object(O.jsx)(P,{manufacturerData:this.state.manufacturer})]}),Object(O.jsxs)(K,{width:600,style:{backgroundColor:"#eee"},children:[Object(O.jsx)(W,{style:{height:400},children:Object(O.jsx)(L,{countryData:this.state.vaccine,width:1e3,height:750})}),Object(O.jsx)(W,{style:{height:350},children:Object(O.jsx)(_,{countryData:this.state.vaccine})})]})]})]}),Object(O.jsx)(o.a,{children:Object(O.jsx)(T,{})})]})}}]),a}(c.a.Component),G=(a(439),{updated:"NA",country:"NA",countryInfo:{_id:4,iso2:"AF",iso3:"AFG",lat:33,flag:"https://disease.sh/assets/img/flags/af.png"},cases:0,todayCases:0,deaths:0,todayDeaths:0,recovered:0,todayRecovered:0,active:0,critical:0,casesPerOneMillion:0,deathsPerOneMillion:0,tests:0,testsPerOneMillion:0,population:0,continent:"Asia",oneCasePerPeople:0,oneDeathPerPeople:10,oneTestPerPeople:10,activePerOneMillion:10,recoveredPerOneMillion:10,criticalPerOneMillion:10}),U=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var t=this.props.covidTestingData;return void 0!==t&&0!==Object.keys(t).length||(t=G),Object(O.jsxs)("div",{id:"info-test-view",className:"pane",children:[Object(O.jsxs)("div",{className:"header",children:["Country:",Object(O.jsxs)("span",{children:[" ",t.country]})]}),Object(O.jsx)(V.a,{width:"270",height:"200",code:t.countryInfo.iso3,fallback:Object(O.jsx)("img",{src:"no-image-icon.png",alt:"No Flag Available",height:"200",width:"270"})}),Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"info-test-view",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Country:"})," ",t.country]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Cases Per Million:"})," ",t.casesPerOneMillion]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Deaths Per Million:"})," ",t.deathsPerOneMillion]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Tests Per Million:"})," ",t.testsPerOneMillion]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Recovered Per Million"})," ",t.recoveredPerOneMillion]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Critical Per Million"})," ",t.criticalPerOneMillion]})]})})]})}}]),a}(n.Component),X=(a(440),a.p+"static/media/110m.702ca108.tsv"),z={country:"NA",isoCode:"NA",timeline:{cases:[{date:"2021-07-13",value:5210472},{date:"2021-07-08",value:5040060},{date:"2021-07-11",value:5139162},{date:"2021-07-17",value:5407428},{date:"2021-07-15",value:5301296},{date:"2021-07-22",value:5626745},{date:"2021-07-28",value:5797445},{date:"2021-07-26",value:5748331},{date:"2021-07-30",value:5857639},{date:"2021-07-24",value:5694462},{date:"2021-07-19",value:5495947},{date:"2021-07-20",value:5542635},{date:"2021-07-06",value:4975903},{date:"2021-07-04",value:4920168},{date:"2021-07-02",value:4871807},{date:"2021-07-12",value:5173972},{date:"2021-07-10",value:5107780},{date:"2021-07-07",value:5007964},{date:"2021-07-09",value:5075945},{date:"2021-07-14",value:5252655},{date:"2021-07-16",value:5353245},{date:"2021-07-29",value:5828316},{date:"2021-07-25",value:5723399},{date:"2021-07-01",value:4844944},{date:"2021-07-21",value:5586716},{date:"2021-07-27",value:5771732},{date:"2021-07-23",value:5662838},{date:"2021-07-05",value:4947274},{date:"2021-07-18",value:5455276},{date:"2021-07-03",value:4896272}],deaths:[{date:"2021-07-13",value:128747},{date:"2021-07-08",value:128601},{date:"2021-07-11",value:128691},{date:"2021-07-17",value:128960},{date:"2021-07-15",value:128864},{date:"2021-07-22",value:129266},{date:"2021-07-28",value:129718},{date:"2021-07-26",value:129460},{date:"2021-07-30",value:129877},{date:"2021-07-24",value:129418},{date:"2021-07-19",value:129007},{date:"2021-07-20",value:129109},{date:"2021-07-06",value:128532},{date:"2021-07-04",value:128486},{date:"2021-07-02",value:128453},{date:"2021-07-12",value:128697},{date:"2021-07-10",value:128665},{date:"2021-07-07",value:128565},{date:"2021-07-09",value:128631},{date:"2021-07-14",value:128797},{date:"2021-07-16",value:128913},{date:"2021-07-29",value:129809},{date:"2021-07-25",value:129446},{date:"2021-07-01",value:128426},{date:"2021-07-21",value:129182},{date:"2021-07-27",value:129591},{date:"2021-07-23",value:129330},{date:"2021-07-05",value:128495},{date:"2021-07-18",value:128988},{date:"2021-07-03",value:128471}],recovered:[{date:"2021-07-13",value:16007},{date:"2021-07-08",value:15888},{date:"2021-07-11",value:15903},{date:"2021-07-17",value:16429},{date:"2021-07-15",value:16133},{date:"2021-07-22",value:17290},{date:"2021-07-28",value:19724},{date:"2021-07-26",value:18546},{date:"2021-07-30",value:20919},{date:"2021-07-24",value:18216},{date:"2021-07-19",value:16487},{date:"2021-07-20",value:16686},{date:"2021-07-06",value:15867},{date:"2021-07-04",value:15774},{date:"2021-07-02",value:15755},{date:"2021-07-12",value:15991},{date:"2021-07-10",value:15892},{date:"2021-07-07",value:15870},{date:"2021-07-09",value:15888},{date:"2021-07-14",value:16127},{date:"2021-07-16",value:16220},{date:"2021-07-29",value:20638},{date:"2021-07-25",value:18226},{date:"2021-07-01",value:15753},{date:"2021-07-21",value:17033},{date:"2021-07-27",value:18908},{date:"2021-07-23",value:17450},{date:"2021-07-05",value:15777},{date:"2021-07-18",value:16430},{date:"2021-07-03",value:15762}]}},J=Object(h.a)().scale(160).translate([400,225]),H=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={geographies:[],covidSummary:{},worldData:[],timelineData:{}},t.handleCountryMouseOver=function(e,a){var n,c=t.state.geographies[e];Promise.all([b.v(X)]).then((function(e){console.log(e),e[0].forEach((function(t){c.id===t.iso_n3&&(n=t.iso_a3)})),t.covidRequest(n).then((function(e){void 0!==e.data&&0!==Object.keys(e.data).length||(e.data=G),t.setState({covidSummary:e.data}),t.covidTimelineRequest(n).then((function(a){void 0!==a.data&&0!==Object.keys(a.data).length||(a.data=z),t.setState({timelineData:a.data}),t.props.parentCallback(e.data,a.data)}))}))}))},t.covidRequest=function(t){try{var e="http://localhost:8081/covid-testing-service/testing/iso-code/"+t;return console.log(e),j.a.get(e)}catch(a){console.error(a)}},t.covidTimelineRequest=function(t){try{var e="http://localhost:8081/covid-testing-service/testing/timeline/"+t;return console.log(e),j.a.get(e)}catch(a){console.error(a)}},t.handleOnLoad=function(e){t.covidRequest(e).then((function(a){t.setState({covidSummary:a.data}),t.covidTimelineRequest(e).then((function(e){t.setState({timelineData:e.data}),t.props.parentCallback(a.data,e.data)}))}))},t.numFormatter=function(t){return t>999&&t<1e6?(t/1e3).toFixed(0)+"K":t>1e6?(t/1e6).toFixed(0)+"M":t<900?t:void 0},t.showToolTip=function(e,a,n){e.classed("hidden",!1).html("<span class='tooltip-header'><b>"+n.properties.name+"</b></span><br><hr>Date: <span class='tooltip-text'>"+t.state.covidSummary.updated+"</span><br>Cases: <span class='tooltip-text'>"+t.numFormatter(t.state.covidSummary.cases)+"</span><br>Todays Cases: <span class='tooltip-text'>"+t.numFormatter(t.state.covidSummary.todayCases)+"</span><br>Deaths: <span class='tooltip-text'>"+t.numFormatter(t.state.covidSummary.deaths)+"</span><br>Recovered: <span class='tooltip-text'>"+t.numFormatter(t.state.covidSummary.recovered)+"</span><br>Active: <span class='tooltip-text'>"+t.numFormatter(t.state.covidSummary.active)+"</span><br>Critical: <span class='tooltip-text'>"+t.numFormatter(t.state.covidSummary.critical)+"</span><br>Tests: <span class='tooltip-text'>"+t.numFormatter(t.state.covidSummary.tests)+"</span><br>Population: <span class='tooltip-text'>"+t.numFormatter(t.state.covidSummary.population)+"</span><br>").attr("style","left:"+(a.pageX+15)+"px; top:"+(a.pageY+20)+"px")},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this;fetch("https://unpkg.com/world-atlas@2.0.2/countries-110m.json").then((function(e){200===e.status?(e.json().then((function(e){t.setState({geographies:Object(m.a)(e,e.objects.countries).features})})),fetch("http://localhost:8081/covid-testing-service/testing/all").then((function(e){200===e.status?e.json().then((function(e){t.setState({worldData:e})})):console.log("There was a problem: ".concat(e.status))}))):console.log("There was a problem: ".concat(e.status))})),this.handleOnLoad("GBR")}},{key:"render",value:function(){var t=this;b.s(".tooltip").remove();var e=b.r(".world-map").append("div").attr("class","hidden tooltip"),a=this.props.width,n=this.props.height,c=(b.w().scaleExtent([-15,30]).translateExtent([[0,0],[a,n]]).on("zoom",(function(t){b.r("g").attr("transform",t.transform)})),b.r(".svg-map-world").attr("width",a).attr("height",n).attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 800 450").call(b.w().on("zoom",(function(t){c.attr("transform",t.transform)}))));return Object(O.jsxs)("div",{className:"pane",children:[Object(O.jsx)("div",{className:"header",children:"World Map"}),Object(O.jsx)("div",{className:"world-map",children:" "}),Object(O.jsx)("svg",{width:a,height:n,viewBox:"0 0 800 450",className:"svg-map-world",children:Object(O.jsx)("g",{className:"world-test-view",children:this.state.geographies.map((function(a,n){return Object(O.jsx)("path",{id:"path-".concat(n),d:Object(v.a)().projection(J)(a),className:"country",fill:"rgba(38,50,56,".concat(1/t.state.geographies.length*n,")"),"data-name":a.properties.name,stroke:"aliceblue",strokeWidth:.5,onMouseOver:function(){return t.handleCountryMouseOver(n)},onMouseMove:function(n){return t.showToolTip(e,n,a)},onMouseOut:function(){e.classed("hidden",!0)}},"path-".concat(n))}))})})]})}}]),a}(c.a.Component),Q=(a(441),a(442),function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){console.log("Line Chart",this.props.worldDataProp);var t=[];this.props.worldDataProp.forEach((function(e){var a={country:e.country,cases:e.cases};t.push(a)})),t=t.sort((function(t,e){return e.cases-t.cases})).slice(0,10),console.log(t),b.r(".testing-linear-barchart > *").remove();var e=20,a=30,n=130,c=60,r=this.props.width-c-a,i=this.props.height-e-n,o=b.r(".testing-linear-barchart").append("svg").attr("width",r+c+a).attr("height",i+e+n).append("g").attr("transform","translate("+c+","+e+")"),s=b.l().domain([0,b.h(t,(function(t){return t.cases}))]).range([0,r]);o.append("g").attr("transform","translate(0,"+i+")").call(b.c(s).ticks(10).tickFormat((function(t){return Z(t)}))).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end");var l=b.k().range([0,i]).domain(t.map((function(t){return t.country}))).padding(.1);return o.append("g").call(b.d(l)),o.selectAll("myRect").data(t).enter().append("rect").transition().duration(200).attr("x",s(0)).attr("y",(function(t){return l(t.country)})).attr("width",(function(t){return s(t.cases)})).attr("height",l.bandwidth()).attr("fill","#e28743"),Object(O.jsxs)("div",{id:"linear-bar-view",className:"pane",children:[Object(O.jsx)("div",{className:"header",children:"Linear Bar Chart : Top Countries Of Maximum Cases "}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"testing-linear-barchart"})})]})}}]),a}(n.Component)),Z=function(t){return t>999&&t<1e6?(t/1e3).toFixed(0)+"K":t>1e6?(t/1e6).toFixed(0)+"M":t<900?t:void 0},$=(a(443),function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){console.log("Circulat chart Chart",this.props.worldDataProp);var t=[],e=[];this.props.worldDataProp.forEach((function(a){var n={deaths:a.deaths,cases:a.cases,active:a.active,recovered:a.recovered,continent:a.continent,country:a.country,population:a.population};t.push(n),e.push(a.country)})),t=t.sort((function(t,e){return e.active-t.active})).slice(0,20),console.log(t),b.s(".circular-bar-plot > *").remove();var a=70,n=70,c=50,r=80,i=this.props.width-r-n,o=this.props.height-a-c,s=b.r(".circular-bar-plot").append("svg").attr("width",i+r+n).attr("height",o+a+c).append("g").attr("transform","translate(".concat(r,",").concat(a,")")),l=b.l().domain([0,b.h(t,(function(t){return t.cases}))]).range([0,i]);s.append("g").attr("transform","translate(0, ".concat(o,")")).call(b.c(l)).append("text").attr("transform","translate("+i/2+" ,"+(o+a+20)+")").style("text-anchor","middle").text("Recovered");var d=b.l().domain([0,b.h(t,(function(t){return t.active}))]).range([o,0]);s.append("g").call(b.d(d)).append("text").attr("transform","rotate(-90)").attr("y",0-r).attr("x",0-o/2).attr("dy","1em").style("text-anchor","middle").style("fill","#141414").text("Active Cases");var u=b.l().domain([b.i(t,(function(t){return t.recovered})),b.h(t,(function(t){return t.recovered}))]).range([4,20]),h=b.m().domain(e).range(b.p),v=b.r(".circular-bar-plot").append("div").style("opacity",0).attr("class","tooltip-plot");return s.append("g").selectAll("dot").data(t).join("circle").attr("class","bubbles").attr("cx",(function(t){return l(t.cases)})).attr("cy",(function(t){return d(t.active)})).attr("r",(function(t){return u(t.recovered)})).style("fill",(function(t){return h(t.country)})).on("mouseover",(function(t,e){console.log("Tooltip",e),v.transition().duration(200),v.style("opacity",1).html("Country: "+e.country).style("left",t.x/2+"px").style("top",t.y/2+"px")})).on("mousemove",(function(t,e){v.style("left",t.x/2+"px").style("top",t.y/2+30+"px")})).on("mouseleave",(function(t,e){v.transition().duration(200).style("opacity",0)})),Object(O.jsxs)("div",{id:"circular-plot-view",className:"pane",children:[Object(O.jsx)("div",{className:"header",children:"Bubble View : Recovered Cases"}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"circular-bar-plot"})})]})}}]),a}(n.Component)),tt=(a(444),function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var t=this.props.covidTestingData;void 0!==t&&0!==Object.keys(t).length||(t=G);var e={cases:t.cases,deaths:t.deaths,recovered:t.recovered,active:t.active},a=Math.min(850,450)/2-30;b.r(".donut-test-chart > *").remove();var n=b.r(".donut-test-chart").append("svg").attr("width",850).attr("height",450).append("g").attr("transform","translate(".concat(425,",").concat(225,")")),c=b.m().domain(Object.keys(e)).range(b.o),r=b.j().sort(null).value((function(t){return t[1]}))(Object.entries(e)),i=b.a().innerRadius(.5*a).outerRadius(.8*a),o=b.a().innerRadius(.9*a).outerRadius(.9*a);return n.selectAll("allSlices").data(r).join("path").attr("d",i).attr("fill",(function(t){return c(t.data[1])})).attr("stroke","white").style("stroke-width","2px").style("opacity",.7),n.selectAll("allPolylines").data(r).join("polyline").attr("stroke","black").style("fill","none").attr("stroke-width",1).attr("points",(function(t){var e=i.centroid(t),n=o.centroid(t),c=o.centroid(t),r=t.startAngle+(t.endAngle-t.startAngle)/2;return c[0]=.95*a*(r<Math.PI?1:-1),[e,n,c]})),n.selectAll("allLabels").data(r).join("text").text((function(t){return t.data[0]})).attr("transform",(function(t){var e=o.centroid(t),n=t.startAngle+(t.endAngle-t.startAngle)/2;return e[0]=.99*a*(n<Math.PI?1:-1),"translate(".concat(e,")")})).style("text-anchor",(function(t){return t.startAngle+(t.endAngle-t.startAngle)/2<Math.PI?"start":"end"})),Object(O.jsxs)("div",{id:"donut-chart-view",className:"pane",children:[Object(O.jsxs)("div",{className:"header",children:["Donut Chart  : ",t.country," "]}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"donut-test-chart"})})]})}}]),a}(n.Component)),et=(a(445),function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var t=this.props.timelineData;console.log("Covid Line View",t),void 0!==t&&0!==Object.keys(t).length||(t=z,console.log("Mock Line Data",t));var e=t.timeline.deaths,a=e.slice(Math.max(e.length-8,0));console.log("Cases",a),a.forEach((function(t){t.date=new Date(t.date)})),a=a.sort((function(t,e){return t.date-e.date}));var n=20,c=30,r=100,i=60,o=this.props.width-i-c,s=this.props.height-n-r;b.r(".lollipop-testing-chart > *").remove();var l=b.r(".lollipop-testing-chart").append("svg").attr("width",o+i+c).attr("height",s+n+r).append("g").attr("transform","translate("+i+","+n+")"),d=b.k().range([0,o]).domain(a.map((function(t){return t.date}))).padding(1);l.append("g").attr("transform","translate(0, ".concat(s,")")).call(b.c(d).ticks(8).tickFormat(b.t("%b %d"))).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end");var u=b.l().domain([0,b.h(a,(function(t){return t.value}))]).range([s,0]);return l.append("g").call(b.d(u).ticks(6).tickFormat((function(t){return at(t)}))).append("text").attr("transform","rotate(-90)").attr("y",0-i).attr("x",0-s/2).attr("dy","2em").style("text-anchor","middle").style("fill","#141414").text("Deaths"),l.selectAll("myline").data(a).enter().append("line").attr("x1",(function(t){return d(t.date)})).attr("x2",(function(t){return d(t.date)})).attr("y1",(function(t){return u(t.value)})).attr("y2",u(0)).attr("stroke","grey").transition().duration(2e3),l.selectAll("mycircle").data(a).join("circle").attr("cx",(function(t){return d(t.date)})).attr("cy",(function(t){return u(t.value)})).attr("r","4").style("fill","#0CED1").attr("stroke","blue"),Object(O.jsxs)("div",{id:"lollipop-chart-view",className:"pane",children:[Object(O.jsxs)("div",{className:"header",children:["Country:",t.country]}),Object(O.jsx)("div",{className:"lollipop-testing-chart"})]})}}]),a}(n.Component)),at=function(t){return t>999&&t<1e6?(t/1e3).toFixed(0)+"K":t>1e6?(t/1e6).toFixed(0)+"M":t<900?t:void 0},nt=o.a.Sider,ct=o.a.Content,rt=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).callbackFunction=function(t,e){n.setState({covidTestingData:t}),n.setState({covidTimelineData:e})},n.state={covidTestingData:{},covidTimelineData:{},worldData:[]},n}return Object(l.a)(a,[{key:"componentWillMount",value:function(){var t=this;fetch("http://localhost:8081/covid-testing-service/testing/all").then((function(e){200===e.status?e.json().then((function(e){console.log("Wordldddddddd",e),t.setState({worldData:e})})):console.log("There was a problem: ".concat(e.status))}))}},{key:"render",value:function(){return Object(O.jsxs)("div",{children:[Object(O.jsxs)(o.a,{style:{height:920},children:[Object(O.jsxs)(nt,{width:300,style:{backgroundColor:"#eee"},children:[Object(O.jsx)(ct,{style:{height:400},children:Object(O.jsx)(U,{covidTestingData:this.state.covidTestingData})}),Object(O.jsx)(ct,{style:{height:320},children:Object(O.jsx)(et,{timelineData:this.state.covidTimelineData,width:300,height:490})})]}),Object(O.jsxs)(o.a,{children:[Object(O.jsxs)(ct,{style:{height:600},children:[Object(O.jsx)(H,{parentCallback:this.callbackFunction,width:800,height:350}),Object(O.jsx)(tt,{covidTestingData:this.state.covidTestingData,width:450,height:450})]}),Object(O.jsxs)(nt,{width:600,style:{backgroundColor:"#eee"},children:[Object(O.jsx)(ct,{style:{height:400},children:Object(O.jsx)(Q,{worldDataProp:this.state.worldData,width:560,height:440})}),Object(O.jsx)(ct,{style:{height:320},children:Object(O.jsx)($,{worldDataProp:this.state.worldData,width:560,height:440})})]})]})]}),Object(O.jsx)(o.a,{children:Object(O.jsx)(T,{})})]})}}]),a}(c.a.Component),it=function(){return Object(O.jsxs)("div",{id:"test-view",className:"pane",children:[Object(O.jsx)("div",{className:"header",children:"Test Chart"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"test-scan-view"}),Object(O.jsx)("div",{class:"papaya"})]})]})},ot=(a(446),o.a.Header),st=(o.a.Footer,o.a.Sider),lt=o.a.Content,dt=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)(o.a,{children:Object(O.jsx)(ot,{className:"header-pane",children:Object(O.jsx)("span",{id:"header-app",children:"Covid App"})})}),Object(O.jsxs)(o.a,{style:{height:920},children:[Object(O.jsxs)(st,{width:300,style:{backgroundColor:"#eee"},children:[Object(O.jsx)(lt,{style:{height:400},children:Object(O.jsx)(it,{})}),Object(O.jsx)(lt,{style:{height:320},children:Object(O.jsx)(it,{width:300,height:490})})]}),Object(O.jsxs)(o.a,{children:[Object(O.jsx)(lt,{style:{height:600},children:Object(O.jsx)(it,{width:450,height:450})}),Object(O.jsxs)(st,{width:600,style:{backgroundColor:"#eee"},children:[Object(O.jsx)(lt,{style:{height:400},children:Object(O.jsx)(it,{width:560,height:440})}),Object(O.jsx)(lt,{style:{height:320},children:Object(O.jsx)(it,{width:560,height:440})})]})]})]}),Object(O.jsx)(o.a,{children:Object(O.jsx)(T,{})})]})}}]),a}(n.Component),ut=a(210),ht=a(26);var vt=function(){return Object(O.jsx)(ut.a,{children:Object(O.jsx)(o.a,{className:"layout",children:Object(O.jsxs)(ht.c,{children:[Object(O.jsx)(ht.a,{path:"/",exact:!0,component:Y}),Object(O.jsx)(ht.a,{path:"/testing",exact:!0,component:rt}),Object(O.jsx)(ht.a,{path:"/report",exact:!0,component:dt})]})})})};i.a.render(Object(O.jsx)(vt,{}),document.getElementById("root"))}},[[450,1,2]]]);
//# sourceMappingURL=main.070c1eb2.chunk.js.map